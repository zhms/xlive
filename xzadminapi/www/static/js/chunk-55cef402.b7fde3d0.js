(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-55cef402"],{"36ef":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dialogBox"},[a("el-dialog",{attrs:{title:t.title,visible:t.visable,width:"600px",center:""},on:{"update:visible":function(e){t.visable=e}}},[t._l(t.columns,(function(e){return a("el-checkbox",{key:e,staticStyle:{"margin-bottom":"10px"},model:{value:t.data[e],callback:function(a){t.$set(t.data,e,a)},expression:"data[col]"}},[t._v(t._s(e))])})),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.handleCommit}},[t._v("确定")])],1)],2)],1)},n=[],l={data:function(){return{title:"编辑列"}},props:{show:{type:Boolean,default:!1},columns:{type:Array,default:function(){return[]}},column:{type:Object,default:function(){}}},created:function(){},computed:{visable:{get:function(){return this.show},set:function(t){this.$emit("update:show",t)}},data:{get:function(){return this.column},set:function(t){this.column=t}}},methods:{handleCommit:function(){this.visable=!1,this.$emit("setColumn",this.data)}}},o=l,s=a("2877"),c=Object(s["a"])(o,i,n,!1,null,null,null);e["a"]=c.exports},"7e79":function(t,e,a){},"917d":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("el-form",{attrs:{inline:!0,model:t.filters}},[a("el-form-item",{attrs:{label:""}},[a("el-input",{staticStyle:{width:"200px"},attrs:{clearable:"",placeholder:"配置名"},model:{value:t.filters.ConfigName,callback:function(e){t.$set(t.filters,"ConfigName",e)},expression:"filters.ConfigName"}})],1),a("el-form-item",{attrs:{label:""}},[a("el-input",{staticStyle:{width:"200px"},attrs:{clearable:"",placeholder:"说明模糊查询"},model:{value:t.filters.Memo,callback:function(e){t.$set(t.filters,"Memo",e)},expression:"filters.Memo"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-refresh"},on:{click:t.handleQuery}},[t._v("查询")]),a("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:function(e){return t.handleAdd(0)}}},[t._v("添加")])],1)],1),a("el-table",{staticClass:"table",staticStyle:{"margin-top":"-13px"},attrs:{data:t.table_data,border:"","max-height":"670px","cell-style":{padding:"0px"},"highlight-current-row":!0}},[t.column["序号"]?a("el-table-column",{attrs:{align:"center",prop:"Id",label:"序号",width:"50"}}):t._e(),t.column["前端"]?a("el-table-column",{attrs:{align:"center",label:"前端",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(t.MapYesNo[e.row.ForClient]))])]}}],null,!1,1894541712)}):t._e(),t.column["配置名"]?a("el-table-column",{attrs:{align:"center",prop:"ConfigName",label:"配置名",width:"200"}}):t._e(),t.column["配置值"]?a("el-table-column",{attrs:{align:"center",prop:"ConfigValue",label:"配置值",width:"400"}}):t._e(),t.column["说明"]?a("el-table-column",{attrs:{align:"center",prop:"Memo",label:"说明",width:"400"}}):t._e(),t.column["操作"]?a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",icon:"el-icon-edit"},on:{click:function(a){return t.handleEdit(e.row,0)}}},[t._v("编辑")])]}}],null,!1,225425119)}):t._e()],1),a("div",{staticClass:"pagination"},[a("el-pagination",{staticStyle:{"margin-right":"10px"},attrs:{background:"",layout:"sizes,total, prev, pager, next, jumper","current-page":t.page,"page-sizes":t.page_sizes,total:t.total,"page-size":t.page_size},on:{"size-change":t.page_sizeChange,"current-change":t.pageChange}})],1),a("column-picker",{attrs:{show:t.columnpicker,columns:t.columns,column:t.column},on:{"update:show":function(e){t.columnpicker=e},setColumn:t.setColumn}}),a("edit-view",{attrs:{show:t.dialog0.show,title:t.dialog0.title,itemdata:t.dialog0.itemdata,filters:t.filters},on:{"update:show":function(e){return t.$set(t.dialog0,"show",e)},getTableData:t.getTableData}})],1)},n=[],l=(a("7e79"),a("a417")),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dialogBox"},[a("el-dialog",{attrs:{title:t.title,visible:t.visable,width:"600px",center:""},on:{"update:visible":function(e){t.visable=e},open:t.handleOpen}},[a("el-form",{attrs:{inline:!0,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"前端:"}},[a("el-select",{staticStyle:{width:"200px"},attrs:{placeholder:"前端"},model:{value:t.itemdata.ForClient,callback:function(e){t.$set(t.itemdata,"ForClient",e)},expression:"itemdata.ForClient"}},t._l(t.ListYesNo,(function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1),a("el-form-item",{attrs:{label:"配置名:"}},[a("el-input",{staticStyle:{width:"400px"},attrs:{disabled:"编辑配置"==t.title},model:{value:t.itemdata.ConfigName,callback:function(e){t.$set(t.itemdata,"ConfigName",e)},expression:"itemdata.ConfigName"}})],1),a("el-form-item",{attrs:{label:"配置值:"}},[a("el-input",{staticStyle:{width:"400px"},attrs:{type:"textarea",rows:6},model:{value:t.itemdata.ConfigValue,callback:function(e){t.$set(t.itemdata,"ConfigValue",e)},expression:"itemdata.ConfigValue"}})],1),a("el-form-item",{attrs:{label:"说明:"}},[a("el-input",{staticStyle:{width:"400px"},attrs:{type:"textarea",rows:8},model:{value:t.itemdata.Memo,callback:function(e){t.$set(t.itemdata,"Memo",e)},expression:"itemdata.Memo"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.handleCommit}},[t._v("确定")])],1)],1)],1)},s=[],c=(a("a9e3"),a("bccc")),r={extends:c["a"],data:function(){return{}},methods:{onOpen:function(){},commitData:function(t){if("编辑配置"==this.title){this.itemdata.channel_id=Number(this.itemdata.channel_id),this.itemdata.ForClient=Number(this.itemdata.ForClient);var e={Config:[{channel_id:this.itemdata.channel_id,ConfigName:this.itemdata.ConfigName,ConfigValue:this.itemdata.ConfigValue,ForClient:this.itemdata.ForClient,Memo:this.itemdata.Memo}]};this.$post("/modify_system_config",e,{google:!0}).then((function(){t(!0)}))}"添加配置"==this.title&&(this.itemdata.channel_id=Number(this.itemdata.channel_id),this.itemdata.ForClient=Number(this.itemdata.ForClient),this.$post("/add_system_config",this.itemdata,{google:!0}).then((function(){t(!0)})))}}},u=r,m=a("2877"),d=Object(m["a"])(u,o,s,!1,null,null,null),f=d.exports,h=a("36ef"),p={extends:l["a"],components:{EditView:f,ColumnPicker:h["a"]},data:function(){return{columns:["序号","渠道","前端","配置名","配置值","说明","操作"]}},created:function(){this.getTableData()},methods:{getTableData:function(){},ModifyItem:function(t,e,a){if(0==t)return e("编辑配置")},AddItem:function(t,e){if(0==t)return e("添加配置",{ForClient:1})}}},g=p,b=Object(m["a"])(g,i,n,!1,null,null,null);e["default"]=b.exports},a417:function(t,e,a){"use strict";var i=a("5530"),n=(a("e9c4"),a("b64b"),a("d3b7"),a("159b"),a("5c96")),l=(a("0c6d"),a("2f62")),o=(a("73f5"),a("c1df")),s=a.n(o),c=a("f62d"),r=a("b76c");e["a"]={extends:r["a"],data:function(){return{filters:{},page:1,page_size:15,page_sizes:[15,50,100,200,500,1e3,1500],total:0,table_data:[],itemdata:null,Export:0,columnpicker:!1,column:{},dialog0:{show:!1,title:"",itemdata:{}},dialog1:{show:!1,title:"",itemdata:{}},dialog2:{show:!1,title:"",itemdata:{}},dialog3:{show:!1,title:"",itemdata:{}},dialog4:{show:!1,title:"",itemdata:{}},dialog5:{show:!1,title:"",itemdata:{}},dialog6:{show:!1,title:"",itemdata:{}},dialog7:{show:!1,title:"",itemdata:{}},dialog8:{show:!1,title:"",itemdata:{}},dialog9:{show:!1,title:"",itemdata:{}},symbols:[{id:"trx",name:"TRX"},{id:"usdt",name:"USDT"}]}},computed:Object(i["a"])({},Object(l["b"])(["sellers","channels","games","rooms","states"])),created:function(){if(this.columns){var t="column_".concat(this.$vnode.key),e=localStorage.getItem(t);if(e)this.column=JSON.parse(e);else{for(var a=0;a<this.columns.length;a++)this.column[this.columns[a]]=!0;localStorage.setItem(t,JSON.stringify(this.column))}}},methods:{pageChange:function(t){this.page=t,this.getTableData()},page_sizeChange:function(t){this.page=1,this.page_size=t,this.getTableData()},handleQuery:function(t){var e=this;1===t?(this.Export=1,this.getTableData((function(t){e.Export=0,window.open("/sapi"+t.filename)}))):(this.Export=0,this.page=1,this.getTableData())},handleAdd:function(t){var e=this;this.AddItem(t,(function(a,i){i=i||{},e["dialog".concat(t)].itemdata=i,e["dialog".concat(t)].title=a,e["dialog".concat(t)].show=!0}))},handleEdit:function(t,e){var a=this;this["dialog".concat(e)].itemdata=JSON.parse(JSON.stringify(t)),this.ModifyItem(e,(function(t){a["dialog".concat(e)].title=t,a["dialog".concat(e)].show=!0}),this["dialog".concat(e)].itemdata)},handleDelete:function(t,e){this.DeleteItem(t,e)},getQueryData:function(){var t={};t.page=this.page,t.page_size=this.page_size;var e=JSON.parse(JSON.stringify(this.filters));for(var a in e.channel_id=e.channel_id||0,e)null!=e[a]&&("DateRange"==a&&Object(c["a"])(e[a])?(t["start_time"]=s()(e[a][0]).format("YYYY-MM-DD HH:mm:ss"),t["end_time"]=s()(s()(e[a][1]).valueOf()+864e5).format("YYYY-MM-DD HH:mm:ss")):"DateTimeRange"==a&&Object(c["a"])(e[a])?(t["start_time"]=s()(e[a][0]).format("YYYY-MM-DD HH:mm:ss"),t["end_time"]=s()(s()(e[a][1]).valueOf()+1e3).format("YYYY-MM-DD HH:mm:ss")):(t[a]=e[a],"symbol"==a.toLowerCase()&&(t[a]=e[a].toLowerCase())));return 1==this.Export&&(t.Export=this.Export),t},copy:function(t){var e=document.createElement("textarea");e.value="".concat(t),document.body.appendChild(e),e.select(),document.execCommand("copy"),e.remove(),Object(n["Message"])({type:"success",message:"复制成功",center:!0})},getSummaries:function(t){var e=this,a=t.columns,i=[];return a.forEach((function(t,a){if(0!=a)e.getTotal&&(i[a]=e.getTotal(t.property));else{if(e.getTotal){var n=e.getTotal(0);if(n)return void(i[a]=n)}i[a]="总计"}})),i},selectColumn:function(){this.columnpicker=!0},setColumn:function(t){for(var e in t)this.column[e]=t[e];var a="column_".concat(this.$vnode.key);localStorage.setItem(a,JSON.stringify(this.column))}}}},b76c:function(t,e,a){"use strict";e["a"]={data:function(){return{MapYesNo:{1:"是",2:"否"},ListYesNo:[{id:1,name:"是"},{id:2,name:"否"}]}}}},bccc:function(t,e,a){"use strict";var i=a("5530"),n=(a("b0c0"),a("2f62")),l=a("b76c");e["a"]={extends:l["a"],data:function(){return{table_data:[]}},props:{show:{type:Boolean,default:!1},title:{type:String,default:null},itemdata:{type:Object,default:function(){return{Password:""}}},filters:{type:Object,default:function(){return{}}}},computed:Object(i["a"])(Object(i["a"])({},Object(n["b"])(["sellers","channels","games","rooms","states"])),{},{visable:{get:function(){return this.show},set:function(t){this.$emit("update:show",t)}}}),methods:{handleCommit:function(){var t=this;this.commitData((function(e){t.visable=!e,t.$emit("getTableData")}))},handleOpen:function(){this.onOpen&&this.onOpen()},getMap:function(t){for(var e={},a=0;a<t.length;a++)e[t[a].id]=t[a].name;return e}}}}}]);