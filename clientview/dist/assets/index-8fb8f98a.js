import{r as c,u as B,c as u,a as v,b as r,d as C,o as F,e as M,f as t,w as p,v as _,g as N,h as E,i as h,j as L,k as T,p as W,l as D}from"./index-43cd4b4c.js";import{_ as j,B as A}from"./plugin-vueexport-helper-ee25f61a.js";const m=i=>(W("data-v-8e64a702"),i=i(),D(),i),J={class:"index"},O=m(()=>t("div",{class:"head flex"},[t("h2",null,"Welcome To Live")],-1)),R=m(()=>t("div",{class:"desc"},[t("h4",null,"Welcome to live"),t("div",{class:"tip"},"There are some interesting things in this studio. Come and play. You can also invite your good friends to come with you!")],-1)),U={class:"form-box flex"},q={class:"form"},z={class:"form-item"},P={class:"form-item"},Y={__name:"index",setup(i){const n=c(""),l=c(""),f=B(),g=c(640),x=u(()=>g.value>L.value),y=u(()=>!n.value.trim()||!l.value||k.value),{execute:b,isFetching:k}=v("/api/v1/user/user_login",{afterFetch:o=>{d(o)}}).post(()=>({account:n.value,password:l.value,is_visitor:2}));function d(o){r("token").value=o.data.data.token,r("user").value=JSON.stringify(o.data.data),f.push(x.value?"/live":"plive")}function w(){b()}function I(o){const e="abcdefghijklmnopqrstuvwxyz0123456789";let a="";for(let s=0;s<o;s++){const V=Math.floor(Math.random()*e.length);a+=e.charAt(V)}return a}function S(){let o="Visitor_u"+I(15);try{let e=r("user").value;e&&(e=JSON.parse(e),e.is_visitor==1&&(o=e.account))}catch{}v("/api/v1/user/user_login",{immediate:!0,afterFetch:e=>{d(e)}}).post(()=>({account:o,is_visitor:1}))}return(o,e)=>{const a=C("scrollInto");return F(),M("div",J,[O,R,t("div",U,[t("div",q,[t("div",z,[p(t("input",{type:"text",placeholder:"Enter Account","onUpdate:modelValue":e[0]||(e[0]=s=>n.value=s)},null,512),[[_,n.value],[a]])]),t("div",P,[p(t("input",{type:"password",placeholder:"Enter Password","onUpdate:modelValue":e[1]||(e[1]=s=>l.value=s)},null,512),[[_,l.value],[a]])]),N(h(A),{type:"primary",block:"",disabled:h(y),onClick:w},{default:E(()=>[T("Login")]),_:1},8,["disabled"]),t("div",{class:"visitor",onClick:S},"Visitor Login")])])])}}},K=j(Y,[["__scopeId","data-v-8e64a702"]]);export{K as default};
