import{r as d,u as B,c as u,a as v,S as _,b as i,w as C,d as F,o as M,e as N,f as s,g as p,v as m,h as T,i as E,j as L,k as W,l as D,p as j,m as A}from"./index-6a30333c.js";import{_ as J,B as O}from"./plugin-vueexport-helper-9df305f4.js";const h=l=>(j("data-v-803d82b2"),l=l(),A(),l),R={class:"index"},U=h(()=>s("div",{class:"head flex"},[s("h2",null,"Welcome To Live")],-1)),q=h(()=>s("div",{class:"desc"},[s("h4",null,"Welcome to live"),s("div",{class:"tip"},"There are some interesting things in this studio. Come and play. You can also invite your good friends to come with you!")],-1)),z={class:"form-box flex"},P={class:"form"},Y={class:"form-item"},G={class:"form-item"},H={__name:"index",setup(l){const n=d(""),c=d(""),f=B(),g=d(640),x=u(()=>g.value>W.value),b=u(()=>!n.value.trim()||!c.value||k.value),{execute:y,isFetching:k}=v("/api/v1/user_login",{immediate:!1,afterFetch:t=>{r(t)}}).post(()=>({account:n.value,password:c.value,is_visitor:2,sale_id:_}));function r(t){i("token").value=t.data.data.token,setTimeout(()=>C(t.data.data.token),1e3),i("user").value=JSON.stringify(t.data.data),i("enter").value=1,f.push(x.value?"/live":"plive")}function w(){y()}function I(t){const e="abcdefghijklmnopqrstuvwxyz0123456789";let o="";for(let a=0;a<t;a++){const V=Math.floor(Math.random()*e.length);o+=e.charAt(V)}return o}function S(){let t="Visitor_u"+I(15);try{let e=i("user").value;if(e)e=JSON.parse(e),e.is_visitor==1&&(t=e.account);else{let o=i("visitor").value;o?t=o:i("visitor").value=t}}catch{}v("/api/v1/user_login",{immediate:!0,afterFetch:e=>{r(e)}}).post(()=>({account:t,is_visitor:1,sale_id:_}))}return(t,e)=>{const o=F("scrollInto");return M(),N("div",R,[U,q,s("div",z,[s("div",P,[s("div",Y,[p(s("input",{type:"text",placeholder:"Enter Account","onUpdate:modelValue":e[0]||(e[0]=a=>n.value=a)},null,512),[[m,n.value],[o]])]),s("div",G,[p(s("input",{type:"password",placeholder:"Enter Password","onUpdate:modelValue":e[1]||(e[1]=a=>c.value=a)},null,512),[[m,c.value],[o]])]),T(L(O),{type:"primary",block:"",disabled:b.value,onClick:w},{default:E(()=>[D(" Login ")]),_:1},8,["disabled"]),s("div",{class:"visitor",onClick:S},"Visitor Login")])])])}}},X=J(H,[["__scopeId","data-v-803d82b2"]]);export{X as default};
