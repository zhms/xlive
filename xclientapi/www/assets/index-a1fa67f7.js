import{r as c,u as B,c as u,a as v,S as _,b as d,w as C,d as F,o as M,e as N,f as t,g as p,v as m,h as T,i as E,j as L,k as W,l as D,p as j,m as A}from"./index-06ccc239.js";import{_ as J,B as O}from"./plugin-vueexport-helper-47cd7fde.js";const h=i=>(j("data-v-4ed2510c"),i=i(),A(),i),R={class:"index"},U=h(()=>t("div",{class:"head flex"},[t("h2",null,"Welcome To Live")],-1)),q=h(()=>t("div",{class:"desc"},[t("h4",null,"Welcome to live"),t("div",{class:"tip"},"There are some interesting things in this studio. Come and play. You can also invite your good friends to come with you!")],-1)),z={class:"form-box flex"},P={class:"form"},Y={class:"form-item"},G={class:"form-item"},H={__name:"index",setup(i){const n=c(""),l=c(""),f=B(),g=c(640),x=u(()=>g.value>W.value),y=u(()=>!n.value.trim()||!l.value||k.value),{execute:b,isFetching:k}=v("/api/v1/user_login",{immediate:!1,afterFetch:o=>{r(o)}}).post(()=>({account:n.value,password:l.value,is_visitor:2,sale_id:_}));function r(o){d("token").value=o.data.data.token,setTimeout(()=>C(o.data.data.token),1e3),d("user").value=JSON.stringify(o.data.data),f.push(x.value?"/live":"plive")}function w(){b()}function I(o){const e="abcdefghijklmnopqrstuvwxyz0123456789";let a="";for(let s=0;s<o;s++){const V=Math.floor(Math.random()*e.length);a+=e.charAt(V)}return a}function S(){let o="Visitor_u"+I(15);try{let e=d("user").value;e&&(e=JSON.parse(e),e.is_visitor==1&&(o=e.account))}catch{}v("/api/v1/user_login",{immediate:!0,afterFetch:e=>{r(e)}}).post(()=>({account:o,is_visitor:1,sale_id:_}))}return(o,e)=>{const a=F("scrollInto");return M(),N("div",R,[U,q,t("div",z,[t("div",P,[t("div",Y,[p(t("input",{type:"text",placeholder:"Enter Account","onUpdate:modelValue":e[0]||(e[0]=s=>n.value=s)},null,512),[[m,n.value],[a]])]),t("div",G,[p(t("input",{type:"password",placeholder:"Enter Password","onUpdate:modelValue":e[1]||(e[1]=s=>l.value=s)},null,512),[[m,l.value],[a]])]),T(L(O),{type:"primary",block:"",disabled:y.value,onClick:w},{default:E(()=>[D(" Login ")]),_:1},8,["disabled"]),t("div",{class:"visitor",onClick:S},"Visitor Login")])])])}}},X=J(H,[["__scopeId","data-v-4ed2510c"]]);export{X as default};
