import{r,u as S,c as b,a as u,S as v,b as i,w as V,d as T,o as B,e as C,f as s,g as _,v as p,h as F,i as M,j as N,k as E,s as L,l as W,p as j,m as A}from"./index-d6b5b7ae.js";import{_ as D,B as J}from"./plugin-vueexport-helper-73be2442.js";const h=n=>(j("data-v-82d65898"),n=n(),A(),n),O={class:"index"},P=h(()=>s("div",{class:"head flex"},[s("h2",null,"Welcome To Live")],-1)),R=h(()=>s("div",{class:"desc"},[s("h4",null,"Welcome to live"),s("div",{class:"tip"},"There are some interesting things in this studio. Come and play. You can also invite your good friends to come with you!")],-1)),U={class:"form-box flex"},q={class:"form"},z={class:"form-item"},Y={class:"form-item"},G={__name:"index",setup(n){const l=r(""),c=r(""),m=S(),f=r(640),g=b(()=>f.value>E.value),{execute:x,isFetching:H}=u("/api/v1/user_login",{immediate:!1,afterFetch:t=>{d(t)}}).post(()=>({account:l.value,password:c.value,is_visitor:2,sale_id:v}));function d(t){i("token").value=t.data.data.token,setTimeout(()=>V(t.data.data.token),1e3),i("user").value=JSON.stringify(t.data.data),i("enter").value=1,m.push(g.value?"/live":"plive")}function y(){if(l.value==""||c.value==""){L("Please enter account and password");return}x()}function w(t){const e="abcdefghijklmnopqrstuvwxyz0123456789";let o="";for(let a=0;a<t;a++){const I=Math.floor(Math.random()*e.length);o+=e.charAt(I)}return o}function k(){let t="Visitor_u"+w(15);try{let e=i("user").value;if(e)e=JSON.parse(e),e.is_visitor==1&&(t=e.account);else{let o=i("visitor").value;o?t=o:i("visitor").value=t}}catch{}u("/api/v1/user_login",{immediate:!0,afterFetch:e=>{d(e)}}).post(()=>({account:t,is_visitor:1,sale_id:v}))}return(t,e)=>{const o=T("scrollInto");return B(),C("div",O,[P,R,s("div",U,[s("div",q,[s("div",z,[_(s("input",{type:"text",placeholder:"Enter Account","onUpdate:modelValue":e[0]||(e[0]=a=>l.value=a)},null,512),[[p,l.value],[o]])]),s("div",Y,[_(s("input",{type:"password",placeholder:"Enter Password","onUpdate:modelValue":e[1]||(e[1]=a=>c.value=a)},null,512),[[p,c.value],[o]])]),F(N(J),{type:"primary",block:"",onClick:y},{default:M(()=>[W(" Login ")]),_:1}),s("div",{class:"visitor",onClick:k},"Visitor Login")])])])}}},X=D(G,[["__scopeId","data-v-82d65898"]]);export{X as default};
