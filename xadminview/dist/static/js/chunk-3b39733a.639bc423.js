(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3b39733a"],{"7e79":function(t,e,a){},a122:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("el-form",{attrs:{inline:!0,model:t.filters}},[a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-refresh"},on:{click:t.handleQuery}},[t._v("刷新")]),a("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:function(e){return t.handleAdd(0)}}},[t._v("发红包")])],1)],1),a("el-table",{staticClass:"table",staticStyle:{"margin-top":"-13px"},attrs:{data:t.table_data,border:"","max-height":"670px","cell-style":{padding:"0px"},"highlight-current-row":!0}},[a("el-table-column",{attrs:{align:"center",prop:"id",label:"id",width:"100"}}),a("el-table-column",{attrs:{align:"center",prop:"room_id",label:"房间Id",width:"100"}}),a("el-table-column",{attrs:{align:"center",prop:"total_count",label:"红包个数",width:"150"}}),a("el-table-column",{attrs:{align:"center",prop:"total_amount",label:"红包金额",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(t._f("amount2")(e.row.total_amount)))])]}}])}),a("el-table-column",{attrs:{align:"center",prop:"used_count",label:"已领个数",width:"150"}}),a("el-table-column",{attrs:{align:"center",prop:"used_amount",label:"已领金额",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(t._f("amount2")(e.row.used_amount)))])]}}])}),a("el-table-column",{attrs:{align:"center",prop:"used_amount",label:"待领金额",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(t._f("amount2")(e.row.total_amount-e.row.used_amount)))])]}}])}),a("el-table-column",{attrs:{align:"center",prop:"sender",label:"发布人",width:"150"}}),a("el-table-column",{attrs:{align:"center",prop:"memo",label:"备注",width:"200"}}),a("el-table-column",{attrs:{align:"center",prop:"create_time",label:"发送时间",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(t._f("北京时间")(e.row.create_time)))])]}}])}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",icon:"el-icon-search"},on:{click:function(a){return t.handleEdit(e.row,1)}}},[t._v("详情")])]}}])})],1),a("div",{staticClass:"pagination"},[a("el-pagination",{staticStyle:{"margin-right":"10px"},attrs:{background:"",layout:"sizes,total, prev, pager, next, jumper","current-page":t.page,"page-sizes":t.page_sizes,total:t.total,"page-size":t.page_size},on:{"size-change":t.page_sizeChange,"current-change":t.pageChange}})],1),a("edit-view",{attrs:{show:t.dialog0.show,title:t.dialog0.title,itemdata:t.dialog0.itemdata,filters:t.filters},on:{"update:show":function(e){return t.$set(t.dialog0,"show",e)},getTableData:t.getTableData}}),a("detail-view",{attrs:{show:t.dialog1.show,title:t.dialog1.title,itemdata:t.dialog1.itemdata,filters:t.filters},on:{"update:show":function(e){return t.$set(t.dialog1,"show",e)},getTableData:t.getTableData}})],1)},n=[],o=(a("7e79"),a("a417")),l=a("658f5"),s=a.n(l),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dialogBox"},[a("el-dialog",{staticStyle:{"margin-top":"-100px"},attrs:{title:t.title,visible:t.visable,width:"530px",center:""},on:{"update:visible":function(e){t.visable=e},open:t.handleOpen}},[a("el-form",{attrs:{inline:!0,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"红包金额:"}},[a("el-input",{staticStyle:{width:"300px"},model:{value:t.itemdata.total_amount,callback:function(e){t.$set(t.itemdata,"total_amount",t._n(e))},expression:"itemdata.total_amount"}})],1),a("el-form-item",{attrs:{label:"红包个数:"}},[a("el-input",{staticStyle:{width:"300px"},model:{value:t.itemdata.total_count,callback:function(e){t.$set(t.itemdata,"total_count",t._n(e))},expression:"itemdata.total_count"}})],1),a("el-form-item",{attrs:{label:"房间号:"}},[a("el-select",{staticStyle:{width:"300px"},attrs:{placeholder:"请选择"},model:{value:t.itemdata.room_id,callback:function(e){t.$set(t.itemdata,"room_id",e)},expression:"itemdata.room_id"}},t._l(t.room_id,(function(t){return a("el-option",{key:t.id,attrs:{label:t.value,value:t.id}})})),1)],1),a("el-form-item",{attrs:{label:"备注:"}},[a("el-input",{staticStyle:{width:"300px"},attrs:{type:"textarea",rows:4},model:{value:t.itemdata.memo,callback:function(e){t.$set(t.itemdata,"memo",e)},expression:"itemdata.memo"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.handleCommit}},[t._v("确定")])],1)],1)],1)},c=[],d=a("bccc"),u={extends:d["a"],data:function(){return{room_id:[]}},methods:{commitData:function(t){this.$post("/v1/create_hongbao",this.itemdata,{google:!0}).then((function(){t(!0)}))},onOpen:function(){var t=this;this.itemdata.memo="恭喜发财 大吉大利",this.$post("/v1/get_live_room_id",{}).then((function(e){t.room_id=[];for(var a=0;a<e.ids.length;a++)t.room_id.push({id:e.ids[a],value:e.ids[a]})}))}}},m=u,p=a("2877"),h=Object(p["a"])(m,r,c,!1,null,"5c43dc06",null),f=h.exports,g=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dialogBox"},[a("el-dialog",{staticStyle:{"margin-top":"-100px"},attrs:{title:t.title,visible:t.visable,width:"660px",center:""},on:{"update:visible":function(e){t.visable=e},open:t.handleOpen}},[a("el-table",{staticClass:"table",staticStyle:{"margin-top":"-13px"},attrs:{data:t.table_data,border:"","cell-style":{padding:"0px"},"highlight-current-row":!0}},[a("el-table-column",{attrs:{align:"center",prop:"id",label:"id",width:"100"}}),a("el-table-column",{attrs:{align:"center",prop:"amount",label:"金额",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(t._f("amount2")(e.row.amount)))])]}}])}),a("el-table-column",{attrs:{align:"center",prop:"account",label:"收款人",width:"200"}}),a("el-table-column",{attrs:{align:"center",prop:"account",label:"时间",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(t._f("北京时间")(e.row.create_time)))])]}}])})],1)],1)],1)},b=[],_=(a("99af"),a("ef5b")),v={extends:d["a"],data:function(){return{table_data:[]}},methods:{onOpen:function(){var t=this;this.title="红包详情 | 个数:".concat(this.itemdata.total_count,"(").concat(this.itemdata.used_count,") 金额:").concat(this.itemdata.total_amount,"(").concat(Object(_["amount2"])(this.itemdata.used_amount),")"),this.$post("/v1/get_hongbao_detail",this.itemdata).then((function(e){t.table_data=e.data}))}}},w=v,y=Object(p["a"])(w,g,b,!1,null,"a5812ff8",null),x=y.exports,O={extends:o["a"],components:{EditView:f,DetailView:x,vueqr:s.a},data:function(){return{}},created:function(){this.getTableData()},methods:{getTableData:function(){var t=this;this.$post("/v1/get_hongbao",{}).then((function(e){t.table_data=e.data,t.total=e.total}))},AddItem:function(t,e){if(0==t)return e("发红包")},ModifyItem:function(t,e,a){if(1==t)return e("红包详情")}}},S=O,D=Object(p["a"])(S,i,n,!1,null,null,null);e["default"]=D.exports},a417:function(t,e,a){"use strict";var i=a("5530"),n=(a("e9c4"),a("b64b"),a("d3b7"),a("159b"),a("5c96")),o=(a("0c6d"),a("2f62")),l=(a("73f5"),a("c1df")),s=a.n(l),r=a("f62d"),c=a("b76c");e["a"]={extends:c["a"],data:function(){return{filters:{},page:1,page_size:15,page_sizes:[15,50,100,200,500,1e3,1500],total:0,table_data:[],itemdata:null,Export:0,columnpicker:!1,column:{},dialog0:{show:!1,title:"",itemdata:{}},dialog1:{show:!1,title:"",itemdata:{}},dialog2:{show:!1,title:"",itemdata:{}},dialog3:{show:!1,title:"",itemdata:{}},dialog4:{show:!1,title:"",itemdata:{}},dialog5:{show:!1,title:"",itemdata:{}},dialog6:{show:!1,title:"",itemdata:{}},dialog7:{show:!1,title:"",itemdata:{}},dialog8:{show:!1,title:"",itemdata:{}},dialog9:{show:!1,title:"",itemdata:{}},symbols:[{id:"trx",name:"TRX"},{id:"usdt",name:"USDT"}]}},computed:Object(i["a"])({},Object(o["b"])(["sellers","channels","games","rooms","states"])),created:function(){if(this.columns){var t="column_".concat(this.$vnode.key),e=localStorage.getItem(t);if(e)this.column=JSON.parse(e);else{for(var a=0;a<this.columns.length;a++)this.column[this.columns[a]]=!0;localStorage.setItem(t,JSON.stringify(this.column))}}},methods:{pageChange:function(t){this.page=t,this.getTableData()},page_sizeChange:function(t){this.page=1,this.page_size=t,this.getTableData()},handleQuery:function(t){var e=this;1===t?(this.Export=1,this.getTableData((function(t){e.Export=0,window.open("/sapi"+t.filename)}))):(this.Export=0,this.page=1,this.getTableData())},handleAdd:function(t){var e=this;this.AddItem(t,(function(a,i){i=i||{},e["dialog".concat(t)].itemdata=i,e["dialog".concat(t)].title=a,e["dialog".concat(t)].show=!0}))},handleEdit:function(t,e){var a=this;this["dialog".concat(e)].itemdata=JSON.parse(JSON.stringify(t)),this.ModifyItem(e,(function(t){a["dialog".concat(e)].title=t,a["dialog".concat(e)].show=!0}),this["dialog".concat(e)].itemdata)},handleDelete:function(t,e){this.DeleteItem(t,e)},getQueryData:function(){var t={};t.page=this.page,t.page_size=this.page_size;var e=JSON.parse(JSON.stringify(this.filters));for(var a in e.channel_id=e.channel_id||0,e)null!=e[a]&&("DateRange"==a&&Object(r["a"])(e[a])?(t["start_time"]=s()(e[a][0]).format("YYYY-MM-DD HH:mm:ss"),t["end_time"]=s()(s()(e[a][1]).valueOf()+864e5).format("YYYY-MM-DD HH:mm:ss")):"DateTimeRange"==a&&Object(r["a"])(e[a])?(t["start_time"]=s()(e[a][0]).format("YYYY-MM-DD HH:mm:ss"),t["end_time"]=s()(s()(e[a][1]).valueOf()+1e3).format("YYYY-MM-DD HH:mm:ss")):(t[a]=e[a],"symbol"==a.toLowerCase()&&(t[a]=e[a].toLowerCase())));return 1==this.Export&&(t.Export=this.Export),t},copy:function(t){var e=document.createElement("textarea");e.value="".concat(t),document.body.appendChild(e),e.select(),document.execCommand("copy"),e.remove(),Object(n["Message"])({type:"success",message:"复制成功",center:!0})},getSummaries:function(t){var e=this,a=t.columns,i=[];return a.forEach((function(t,a){if(0!=a)e.getTotal&&(i[a]=e.getTotal(t.property));else{if(e.getTotal){var n=e.getTotal(0);if(n)return void(i[a]=n)}i[a]="总计"}})),i},selectColumn:function(){this.columnpicker=!0},setColumn:function(t){for(var e in t)this.column[e]=t[e];var a="column_".concat(this.$vnode.key);localStorage.setItem(a,JSON.stringify(this.column))}}}},b76c:function(t,e,a){"use strict";e["a"]={data:function(){return{MapYesNo:{1:"是",2:"否"},ListYesNo:[{id:1,name:"是"},{id:2,name:"否"}]}}}},bccc:function(t,e,a){"use strict";var i=a("5530"),n=(a("b0c0"),a("2f62")),o=a("b76c");e["a"]={extends:o["a"],data:function(){return{table_data:[]}},props:{show:{type:Boolean,default:!1},title:{type:String,default:null},itemdata:{type:Object,default:function(){return{Password:""}}},filters:{type:Object,default:function(){return{}}}},computed:Object(i["a"])(Object(i["a"])({},Object(n["b"])(["sellers","channels","games","rooms","states"])),{},{visable:{get:function(){return this.show},set:function(t){this.$emit("update:show",t)}}}),methods:{handleCommit:function(){var t=this;this.commitData((function(e){t.visable=!e,t.$emit("getTableData")}))},handleOpen:function(){this.onOpen&&this.onOpen()},getMap:function(t){for(var e={},a=0;a<t.length;a++)e[t[a].id]=t[a].name;return e}}}}}]);